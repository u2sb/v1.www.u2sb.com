---
title: 原始弹幕
date: 2022-05-18 17:26:25
permalink: /pages/f4931b/
categories:
  - 开源项目
tags:
  - 开源项目
  - Danmu.Bili
---

## 介绍

解析 B 站原始弹幕

## API

### 解释

- `id` aid 或 bvid，例如 `av810872` 或 `BV18b411j72u`
- `p` 分 P，例如 `1` `2`，省略时默认为 `1`
- `format` 数据格式，`json` 或 `xml`

### API

- `/api/danmu/bilibili/v1/{id}/{p:int?}`
- `/api/danmu/bilibili/v1/?id={id}&p={p}`
- `/api/danmu/bilibili/v1/raw/{id}/{p:int?}`
- `/api/danmu/bilibili/v1/raw/?id={id}&p={p}`

### 示例

- `https://danmu.u2sb.com/api/danmu/bilibili/v1/BV18b411j72u`
- `https://danmu.u2sb.com/api/danmu/bilibili/v1/raw/BV18b411j72u/1`

### 返回

详见

[protobuf 弹幕](https://github.com/SocialSisterYi/bilibili-API-collect/blob/master/danmaku/danmaku_proto.md)

```json
{
  "code": 0,
  "data": [
    {
      "id": 14955772062990336,
      "progress": 12544,
      "mode": 1,
      "fontsize": 25,
      "color": 16777215,
      "midHash": "3600fffd",
      "content": "来了",
      "ctime": 1555668046,
      "weight": 6,
      "action": "",
      "pool": 0,
      "idStr": "14955772062990336",
      "attr": 0
    },
    {
      "id": 14955774128160768,
      "progress": 7739,
      "mode": 1,
      "fontsize": 25,
      "color": 16777215,
      "midHash": "5689bb4c",
      "content": "第一，截图见证",
      "ctime": 1555668050,
      "weight": 8,
      "action": "",
      "pool": 0,
      "idStr": "14955774128160768",
      "attr": 0
    }
  ]
}
```

```json
{
  "elems": [
    {
      "id": 14955772062990336,
      "progress": 12544,
      "mode": 1,
      "fontsize": 25,
      "color": 16777215,
      "midHash": "3600fffd",
      "content": "来了",
      "ctime": 1555668046,
      "weight": 6,
      "action": "",
      "pool": 0,
      "idStr": "14955772062990336",
      "attr": 0
    },
    {
      "id": 14955774128160768,
      "progress": 7739,
      "mode": 1,
      "fontsize": 25,
      "color": 16777215,
      "midHash": "5689bb4c",
      "content": "第一，截图见证",
      "ctime": 1555668050,
      "weight": 8,
      "action": "",
      "pool": 0,
      "idStr": "14955774128160768",
      "attr": 0
    }
  ]
}
```
